{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-10 container ml-2 row">
      <div class="col-lg-10 container ml-2">
          <h1 class="ml-4">User List:</h1>
      </div>
      <div class="col-lg-2 container ml-2">
          <a href="{{ url_for('add_user') }}"><button type="button" class="btn btn-success">Add User</button></a>
      </div>

  </div>
</div>
<div class="row justify-content-center">
  <div class="col-lg-10">
  <ul>
      <table class="table table-dark m-0">
          <thead>
            <tr>
              <th scope="col">id</th>
              <th scope="col">User</th>
              <th scope="col">Movies</th>
            </tr>
          </thead>
          <tbody class="table-group-divider">
            {%  for user in users %}
            <tr>
              <th scope="row">{{ user.id }}</th>
              <td><a href="{{ url_for('list_user_movies', user_id=user.id) }}">{{ user.name }}</a></td>
              <td>{{ user.movies|length }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
  </ul>
  </div>

</div>
{% endblock %}